document.addEventListener("DOMContentLoaded",function(){function n(){o.classList.remove("expanded"),document.body.style.overflow=""}function e(){const n=window.pageYOffset||document.documentElement.scrollTop,e=(window.innerHeight,window.innerWidth<768);let t=null,i=null;const s=window.scrollY+10;a.forEach((n,e)=>{const o=n.offsetTop,l=a[e+1],r=l?l.offsetTop:document.documentElement.scrollHeight;if(s>=o&&s<r){t=n;let e=n.nextElementSibling;for(;e&&(null===l||e!==l);){if("H2"===e.tagName){const n=e.offsetTop;let t,o=e.nextElementSibling;for(;o&&"H2"!==o.tagName&&o!==l;)o=o.nextElementSibling;t=o&&"H2"===o.tagName?o.offsetTop:l?l.offsetTop:document.documentElement.scrollHeight,s>=n&&s<t&&(i=e)}e=e.nextElementSibling}}});const l=o.querySelectorAll(".nav-item"),d=o.querySelectorAll(".current-section");if(t){l.forEach(n=>{n.classList.contains("h1")&&t.textContent.trim()===n.textContent||n.classList.contains("h2")&&i&&i.textContent.trim()===n.textContent?n.classList.add("active"):n.classList.remove("active")});const n=i?`${t.textContent.trim()} > ${i.textContent.trim()}`:t.textContent.trim();d.forEach(e=>{e.textContent=n}),o.classList.add("has-active")}else l.forEach(n=>n.classList.remove("active")),d.forEach(n=>{n.textContent=""}),o.classList.remove("has-active");const p=a[0],m=p&&window.scrollY+10>=p.offsetTop;e?o.classList.contains("expanded")||(m?n>r?n>50&&o.classList.remove("visible"):o.classList.add("visible"):o.classList.remove("visible")):m?o.classList.add("visible"):o.classList.remove("visible"),r=n,c=!1}const t=document.createElement("style");t.textContent="\n        .nav-container {\n            position: fixed;\n            z-index: 1000;\n            backdrop-filter: blur(10px);\n            -webkit-backdrop-filter: blur(10px);\n        }\n\n        /* Desktop styles */\n        @media (min-width: 768px) {\n            .nav-container {\n                position: fixed;\n                left: 20px;\n                top: 5%;\n                transform: translateY(-5%) translateX(5%);\n                padding: 15px;\n                border-radius: 16px;\n                background: rgba(255, 255, 255, 0.5);\n                opacity: 0;\n                pointer-events: none;\n                max-width: 300px;\n                width: 300px;\n                display: flex;\n                flex-direction: column;\n            }\n\n            .nav-container.visible {\n                opacity: 1;\n                pointer-events: all;\n                transition: all 1.3s ease;\n            }\n\n            .nav-container.collapsed {\n                width: auto;\n                min-width: 50px;\n            }\n\n            .nav-container.collapsed .nav-list {\n                display: none;\n            }\n\n            .desktop-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                gap: 10px;\n            }\n\n            .nav-container.collapsed .desktop-header {\n                padding: 0;\n            }\n\n            .nav-container:not(.collapsed) .desktop-header {\n                padding-bottom: 10px;\n            }\n\n            .nav-container.collapsed .current-section {\n                display: block;\n                flex-grow: 1;\n                font-size: 14px;\n                font-family: 'Poppins', sans-serif;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                opacity: 0.7;\n                margin: 0 5px;\n            }\n\n            .nav-container:not(.collapsed) .desktop-header .current-section {\n                display: none;\n            }\n\n            .nav-collapse {\n                background: none;\n                border: none;\n                cursor: pointer;\n                padding: 5px;\n                margin: 0;\n                opacity: 0.3;\n                transition: opacity 0.2s ease;\n                flex-shrink: 0;\n            }\n\n            .nav-collapse:hover {\n                opacity: 1;\n            }\n\n            .expand-icon {\n                display: none;\n            }\n\n            .collapsed .expand-icon {\n                display: block;\n            }\n\n            .collapsed .collapse-icon {\n                display: none;\n            }\n\n            .nav-header {\n                display: none !important;\n            }\n\n            .nav-list {\n                list-style: none;\n                padding: 0;\n                margin: 0;\n                overflow-y: auto;\n                max-height: 70vh;\n            }\n\n            .nav-item {\n                margin: 10px 0;\n                cursor: pointer;\n                color: #666;\n                transition: color 0.3s ease;\n                font-size: 14px;\n            }\n\n            .nav-item.h2 {\n                padding-left: 15px;\n                font-size: 12px;\n                margin: 5px 0;\n            }\n\n            .nav-item.active {\n                color: #000;\n                font-weight: 500;\n            }\n        }\n\n        /* Mobile styles */\n        @media (max-width: 767px) {\n            .nav-container {\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                width: 100%;\n                background: rgba(255, 255, 255, 0.5);\n                transform: translateY(-100%);\n                transition: transform 0.3s ease;\n                height: auto;\n            }\n\n            .nav-container.visible {\n                transform: translateY(0);\n            }\n\n            .nav-container.expanded {\n                height: 100vh;\n                background: rgba(255, 255, 255, 0.95);\n            }\n\n            .nav-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 15px 20px;\n                border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            }\n\n            .current-section {\n                font-size: 14px;\n                font-weight: 500;\n                color: #000;\n                font-family: 'Poppins', sans-serif;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                max-width: calc(100% - 40px);\n            }\n\n            .nav-close {\n                display: none;\n                cursor: pointer;\n            }\n\n            @media (min-width: 768px) {\n                .nav-header {\n                    display: none;\n                }\n            }\n\n            .expanded .nav-close {\n                display: block;\n            }\n\n            .nav-list {\n                display: none;\n                list-style: none;\n                padding: 20px;\n                margin: 0;\n                max-height: calc(100vh - 60px);\n                overflow-y: auto;\n            }\n\n            .expanded .nav-list {\n                display: block;\n            }\n\n            .nav-item {\n                padding: 15px 0;\n                cursor: pointer;\n                color: #666;\n                transition: color 0.3s ease;\n                font-size: 16px;\n                border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            }\n\n            .nav-item.h2 {\n                padding-left: 20px;\n                font-size: 14px;\n                border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n            }\n\n            .nav-item.active {\n                color: #000;\n                font-weight: 500;\n            }\n\n            .desktop-header {\n                display: none;\n            }\n        }\n    ",document.head.appendChild(t);const o=document.createElement("nav");o.className="nav-container collapsed",o.innerHTML='\n        <div class="nav-header">\n            <span class="current-section"></span>\n            <a class="nav-close"><i class="fa-solid fa-xmark"></i></a>\n        </div>\n        <div class="desktop-header">\n            <span class="current-section"></span>\n            <button class="nav-collapse">\n                <a class="expand-icon"><i class="fa-solid fa-angle-down"></i></a>\n                <a class="collapse-icon"><i class="fa-solid fa-arrow-left-long"></i></a>\n            </button>\n        </div>\n        <ul class="nav-list"></ul>\n    ',document.body.appendChild(o);const a=Array.from(document.querySelectorAll(".container.blog.main h1")),i=o.querySelector(".nav-list");a.forEach(e=>{const t=document.createElement("li");t.className="nav-item h1",t.textContent=e.textContent.trim(),t.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth"}),window.innerWidth<768&&n()}),i.appendChild(t);let o=e.nextElementSibling;for(;o&&"H1"!==o.tagName;){if("H2"===o.tagName){const e=o,t=document.createElement("li");t.className="nav-item h2",t.textContent=e.textContent.trim(),t.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth"}),window.innerWidth<768&&n()}),i.appendChild(t)}o=o.nextElementSibling}});o.querySelector(".nav-collapse").addEventListener("click",()=>{window.innerWidth>=768&&o.classList.toggle("collapsed")});const s=o.querySelector(".nav-header"),l=o.querySelector(".nav-close");s.addEventListener("click",n=>{window.innerWidth<768&&n.target!==l&&(o.classList.toggle("expanded"),document.body.style.overflow=o.classList.contains("expanded")?"hidden":"")});let r=0,c=!1;window.addEventListener("scroll",()=>{c||(window.requestAnimationFrame(()=>{e()}),c=!0)}),e()});